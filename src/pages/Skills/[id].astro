---
import Layout from "../../layouts/Layout.astro";
import Hero3 from "../../videos/hero3.mp4";
import { YouTube } from "astro-embed";

export async function getStaticPaths() {
  const data = await fetch("http://localhost:3000/exercise").then((response) =>
    response.json()
  );

  return data.map((post: { _id: String }) => {
    return {
      params: { id: post._id },
    };
  });
}

const { id } = Astro.params;

const postRes = await fetch(`http://localhost:3000/exercise/${id}`);
const post = await postRes.json();
---

<Layout title="RouteSthenics - Skills">
  <section class="hero_video">
    <video autoplay muted loop id="video-bg">
      <source src={Hero3} type="video/mp4" />
      Tu navegador no admite la etiqueta de video.
    </video>
    <div class="overlay"></div>
  </section>
  <section class="container_general">
    <h1>Progresiones</h1>
    <article class="containers_generals">
      <section class="containers_one">
        <h2 class="Title">{post.exerciseName}</h2>
        <p class="Text">{post.exerciseDesc}</p>

        <h4 class="Texts"><span>Advertencia:</span></h4>
        <p class="textAlt">
          Esta guía te ayudará a avanzar en tus ejercicios. Es crucial dominar
          las progresiones principales, ya que son fundamentales para tu
          progreso. Los ejercicios alternativos están diseñados para brindarte
          apoyo adicional o para practicar mientras descansas de los
          principales. Elige las progresiones que se adapten mejor a tus
          necesidades y solo avanza a la siguiente cuando hayas dominado la
          anterior. Esto te ayudará a prevenir lesiones graves.
        </p>

        <h3 class="Texts"><span>Dificultad:</span> {post.skillDifficulty}</h3>
        {
          post.skillDifficulty === "Principiante" ? (
            <p class="Text" id="principiante">
              Los ejercicios de calistenia en nivel principiante son aquellos
              diseñados para individuos que están dando sus primeros pasos en
              este tipo de entrenamiento. Incluyen movimientos básicos y
              ejercicios fundamentales que buscan fortalecer los músculos
              principales del cuerpo.
            </p>
          ) : post.skillDifficulty === "Intermedio" ? (
            <p class="Text" id="intermedio">
              Los ejercicios de calistenia en nivel intermedio están destinados
              a quienes ya han adquirido cierta fuerza y control corporal a
              través de la práctica continua. Se ven ejercicios que requieren un
              mayor nivel de coordinación y resistencia muscular.
            </p>
          ) : post.skillDifficulty === "Avanzado" ? (
            <p class="Text" id="avanzado">
              En el nivel avanzado de calistenia, los ejercicios son
              considerablemente más exigentes y requieren un alto grado de
              fuerza, flexibilidad y control corporal. Entre ellos se encuentran
              habilidades que demandan un dominio total sobre el propio peso
              corporal y una técnica refinada.
            </p>
          ) : post.skillDifficulty === "Super Avanzado" ? (
            <p class="Text" id="superAvanzado">
              Los ejercicios de calistenia en nivel super avanzado son
              reservados para atletas excepcionales que han alcanzado un nivel
              sobresaliente de habilidad y condición física. Aquí se incluyen
              movimientos extremadamente desafiantes y habilidades que requieren
              un nivel extraordinario de fuerza y control corporal.
            </p>
          ) : post.skillDifficulty === "Elite" ? (
            <p class="Text" id="elite">
              El nivel elite de calistenia es el pináculo del rendimiento humano
              en este ámbito. Los ejercicios en este nivel son casi
              sobrehumanos, y solo son realizados por una élite de atletas de
              calistenia de clase mundial. Incluyen movimientos que desafían
              todas las expectativas físicas.
            </p>
          ) : post.skillDifficulty === "Inhumano" ? (
            <p class="Text" id="inhumano">
              Los ejercicios de calistenia en nivel inhumano son aquellos que
              desafían los límites de lo que se considera posible para un ser
              humano. Estos movimientos son tan extremos que solo unos pocos
              atletas extraordinarios pueden siquiera intentarlos. Incluyen
              ejercicios que desafían la gravedad y la comprensión misma de la
              biomecánica humana.
            </p>
          ) : post.skillDifficulty === "Imposible" ? (
            <p class="Text" id="imposible">
              Los ejercicios de calistenia en nivel imposible son aquellos que,
              como su nombre lo indica, se consideran fuera del alcance de
              cualquier ser humano conocido. Estos movimientos desafían todas
              las leyes de la física y la biología, y solo existen en la
              imaginación más audaz. Incluyen habilidades que están más allá de
              cualquier capacidad humana concebible y que naide ha podido si
              quiera hacerlos perfecto.
            </p>
          ) : (
            <p class="Text">Error</p>
          )
        }
        <h4 class="Texts"><span>Musculos Implicados:</span></h4>
        <ul>
          {
            post.skillMuscles.map((skill: { skillMuscles: String }) => (
              <li class="skillItem">{skill}</li>
            ))
          }
        </ul>
        <h4 class="Texts"><span>Materiales y Lugar de Aplicacion:</span></h4>
        <ul>
          {
            post.skillMaterials.map((skill: { skillMaterials: String }) => (
              <li class="skillItem">{skill}</li>
            ))
          }
        </ul>
        <h4 class="Texts"><span>Mejores Atletas:</span></h4>
        <ul>
          {
            post.skillAthletes.map((skill: { skillAthletes: String }) => (
              <li class="skillItem">{skill}</li>
            ))
          }
        </ul>
        <h4 class="Texts"><span>Variaciones:</span></h4>
        <ul>
          {
            post.skillVariations.map((skill: { skillVariations: String }) => (
              <li class="skillItem">{skill}</li>
            ))
          }
        </ul>
      </section>

      <section class="containers_two">
        {
          post.youtubeURLs &&
            post.youtubeURLs.map((youtubeUrl) => (
              <section class="exercise_container">
                <h3>{youtubeUrl.name}</h3>
                <YouTube id={youtubeUrl.url} class="video" />
                {youtubeUrl.route === "Principal" ? (
                  <h4 class="route-primary">✔ Principal</h4>
                ) : youtubeUrl.route === "Alternativo" ? (
                  <h4 class="route-alternative">✖ Alternativo</h4>
                ) : (
                  <p class="Text">Error</p>
                )}
              </section>
            ))
        }
      </section>
    </article>
  </section>
</Layout>

<style is:global>
  :root {
    scrollbar-width: thin;
    scrollbar-color: #0084ff #272727;
    overflow-x: hidden;
  }

  .route-alternative,
  .route-primary {
    font-family: sans-serif;
    text-align: start;
    margin-top: 20px;
  }

  #principiante {
    color: green;
  }
  #intermedio {
    color: #0699b6;
  }
  #avanzado {
    color: #e25a14;
  }
  #superAvanzado {
    color: #7700ff;
  }
  #elite {
    color: #fbff00;
  }
  #inhumano {
    color: #ff00f2;
  }
  #imposible {
    color: #ff0000;
  }

  .textAlt {
    margin-top: 0px;
    margin-bottom: 20px;
    font-size: 1.125rem;
    color: #9ca391;
    line-height: 1.75rem;
  }

  .route-primary {
    color: green;
  }

  .route-alternative {
    color: #0084ff;
  }

  .container_general h1 {
    background: #fad5a6;
    background: -webkit-linear-gradient(to left, #fad5a6 0%, #8c87e5 100%);
    background: -moz-linear-gradient(to left, #fad5a6 0%, #8c87e5 100%);
    background: linear-gradient(to left, #fad5a6 0%, #8c87e5 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    font-family: "aero", sans-serif;
    margin-bottom: 50px;
  }

  .containers_generals {
    display: flex;
    flex-direction: column;
    justify-content: center;
    width: 80vw;
    align-items: center;
  }
  .containers_one {
    width: 100%;
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    margin-bottom: 70px;
  }

  .Title {
    color: white;
    font-family: "aero";
  }
  .Text {
    font-size: 1.125rem;
    color: #9ca391;
    line-height: 1.75rem;
    margin-top: 20px;
    margin-bottom: 10px;
  }

  .Texts span {
    color: white;
  }

  .Texts {
    color: #9ca391;
    line-height: 1.75rem;
    margin-bottom: 20px;
    font-family: sans-serif;
    margin-top: 30px;
  }

  .containers_one ul {
    display: flex;
    gap: 10px;
    flex-direction: row;
    flex-wrap: wrap;
  }

  .skillItem {
    color: #9ca391;
    padding: 10px;
    background: rgba(15, 23, 42, 0.5);
    -webkit-backdrop-filter: blur(10px);
    backdrop-filter: blur(10px);
    border: 1px solid #475569;
    border-radius: 10px;
    -webkit-border-radius: 10px;
    -moz-border-radius: 10px;
    -ms-border-radius: 10px;
    -o-border-radius: 10px;
    font-family: sans-serif;
  }

  .containers_two {
    width: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  .exercise_container {
    width: 80vw;
    display: flex;
    flex-direction: column;
    align-items: center;

    margin-bottom: 80px;
  }

  .exercise_container h3 {
    color: white;
    font-family: sans-serif;
    margin-bottom: 20px;
  }

  .video {
    width: 100%;
  }

  @media (min-width: 530px) {
    .video {
      width: 80%;
    }
  }

  @media (min-width: 810px) {
    .exercise_container {
      width: 720px;
    }

    .video {
      width: 70%;
    }
  }

  @media (min-width: 1000px) {
    .containers_generals {
      display: flex;
      flex-direction: row;
      justify-content: center;
      width: 900px;
      align-items: flex-start;
      overflow: hidden;
      gap: 30px;
    }

    .containers_one {
      width: 40%;
    }

    .containers_two {
      width: 50%;
    }

    .video {
      width: 60%;
    }
  }

  @media (min-width: 1150px) {
    .containers_generals {
      width: 1090px;
      gap: 0px;
    }
  }
</style>
